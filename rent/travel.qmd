# Платформа туристических услуг

## **2. Общее описание**

TravelHub — это веб-приложение, которое связывает Туристов с Поставщиками услуг (гидами, экскурсоводами, владельцами жилья и т.д.). Платформа позволит Поставщикам публиковать свои услуги, а Туристам — находить, сравнивать и бронировать их.

## **3. Функции продукта**

*   Регистрация и аутентификация пользователей с разделением на роли (Турист, Поставщик).
*   Управление профилем пользователя.
*   Управление каталогом туристических услуг (CRUD для Поставщиков).
*   Расширенный поиск и фильтрация услуг по различным критериям.
*   Система бронирования услуг.
*   Управление бронированиями (для Туристов и Поставщиков).
*   Система отзывов и рейтингов.
*   Административная панель для управления платформой.

## **4. Системные характеристики**

### **4.2 Управление профилем пользователя**

#### **Description and Priority**

Позволяет аутентифицированному пользователю просматривать и редактировать информацию в своем профиле. Приоритет: Высокий.

#### **Stimulus/Response Sequences**

**Сценарий:** Редактирование профиля Туриста
-   *Стимул:* Турист переходит в "Мой профиль", редактирует данные (имя, фамилия, телефон, аватар) и сохраняет.
-   *Ответ:* Система валидирует данные, обновляет информацию в БД и отображает актуальные данные.

#### **Functional Requirements**

*   **PROF-1:** Пользователь должен иметь возможность просматривать и редактировать свой профиль.
*   **PROF-2:** Турист должен иметь возможность редактировать свои личные данные (имя, фамилия, телефон).
*   **PROF-3:** Поставщик должен иметь возможность редактировать данные компании (название, описание, контактные данные, логотип).
*   **PROF-4:** Система должна отображать публичный профиль Поставщика (для страницы услуги).

### **4.3 Управление каталогом услуг**

#### **Description and Priority**

Позволяет Поставщикам создавать, редактировать, деактивировать и удалять свои туристические услуги. Приоритет: Высокий.

#### **Stimulus/Response Sequences**

-   **Сценарий 1:** Создание новой услуги
    *   *Стимул:* Поставщик в своей панели управления нажимает "Добавить услугу", заполняет форму (название, описание, категория, цена, локация, даты) и сохраняет.
    *   *Ответ:* Система валидирует данные, сохраняет услугу в БД (статус "активно") и отображает ее в списке услуг Поставщика.
-   **Сценарий 2:** Редактирование услуги
    *   *Стимул:* Поставщик нажимает "Редактировать" у существующей услуги, изменяет цену и сохраняет.
    *   *Ответ:* Система обновляет данные услуги в БД. Все существующие бронирования остаются с старой ценой.

#### **Functional Requirements**

*   **CAT-1:** Система должна предоставлять интерфейс для Поставщителя для создания, чтения, обновления и удаления (CRUD) услуг.
*   **CAT-2:** Каждая услуга должна иметь атрибуты: название, описание, категория, цена, местоположение, даты доступности, фотографии, максимальное число участников.
*   **CAT-3:** Система должна валидировать введенные данные (например, цена > 0, даты корректны).
*   **CAT-4:** Система должна позволять Поставщику приостанавливать продажу услуги (деактивация) без ее удаления.

### **4.4 Поиск и фильтрация услуг**

#### **Description and Priority**

Позволяет всем пользователям (включая гостей) находить услуги в каталоге по ключевым словам и с помощью сложных фильтров. Приоритет: Высокий.

#### **Stimulus/Response Sequences**

**Сценарий:** Поиск экскурсий в Риме
-   *Стимул:* Пользователь на главной странице вводит в поисковую строку "Рим", выбирает категорию "Экскурсии", устанавливает фильтр по цене до 100$.
-   *Ответ:* Система выполняет запрос к БД и возвращает страницу с результатами, соответствующими всем критериям.

#### **Functional Requirements**

*   **SRCH-1:** Система должна предоставлять текстовый поиск по названию и описанию услуги.
*   **SRCH-2:** Система должна предоставлять фильтры по: категории, местоположению (городу), диапазону цены, датам проведения, рейтингу.
*   **SRCH-3:** Система должна позволять сортировать результаты по: релевантности, цене (возр./убыв.), рейтингу, дате добавления.

### **4.5 Система бронирования**

#### **Description and Priority**

Позволяет Туристам бронировать доступные услуги, а Поставщикам — управлять своими бронированиями. Приоритет: Высокий.

#### **Stimulus/Response Sequences**

-   **Сценарий 1:** Успешное бронирование
    *   *Стимул:* Турист на странице услуги нажимает "Забронировать", выбирает дату и количество участников, подтверждает заказ.
    *   *Ответ:* Система проверяет доступность на выбранную дату, создает запись "Бронирование" со статусом "Подтверждено", уменьшает квоту доступных мест для этой даты и уведомляет Поставщика.
-   **Сценарий 2:** Отмена бронирования
    *   *Стимул:* Турист в разделе "Мои бронирования" нажимает "Отменить" у активного бронирования.
    *   *Ответ:* Система меняет статус бронирования на "Отменено", увеличивает квоту доступных мест и уведомляет Поставщика.

#### **Functional Requirements**

*   **BOOK-1:** Система должна позволять Туристу забронировать доступную услугу на конкретную дату.
*   **BOOK-2:** Система должна проверять доступность услуги на выбранную дату перед созданием бронирования.
*   **BOOK-3:** Система должна предоставлять Туристу интерфейс для просмотра истории и текущих бронирований.
*   **BOOK-4:** Система должна предоставлять Поставщику интерфейс для просмотра всех бронирований его услуг.
*   **BOOK-5:** Система должна позволять Туристу отменять бронирование в соответствии с правилами отмены (например, не позже чем за 24 часа).

### **4.6 Система отзывов и рейтингов**

#### **Description and Priority**

Позволяет Туристам оставлять отзывы и оценки для услуг, которые они забронировали и посетили. Приоритет: Средний.

#### **Stimulus/Response Sequences**

**Сценарий:** Оставление отзыва
-   *Стимул:* Турист в разделе "Мои бронирования" нажимает "Оставить отзыв" у завершенной услуги, ставит оценку от 1 до 5 и пишет текст отзыва.
-   *Ответ:* Система проверяет, что пользователь действительно бронировал эту услугу, сохраняет отзыв и пересчитывает средний рейтинг для данной услуги и Поставщика.

#### **Functional Requirements**

*   **REV-1:** Система должна позволять Туристу оставлять отзыв и числовой рейтинг только для услуг со статусом бронирования "Завершено".
*   **REV-2:** Один пользователь может оставить только один отзыв на одну услугу.
*   **REV-3:** Система должна вычислять и хранить средний рейтинг для каждой услуги и для каждого Поставщика.
*   **REV-4:** Система должна отображать отзывы на странице услуги.

### **4.7 Административная панель**

#### **Description and Priority**

Позволяет Администратору управлять пользователями, категориями услуг и модерировать контент. Приоритет: Средний.

#### **Stimulus/Response Sequences**

**Сценарий:** Модерация нового Поставщика
-   *Стимул:* Администратор в панели управления видит список новых Поставщиков, проверяет данные компании и нажимает "Подтвердить".
-   *Ответ:* Система меняет статус Поставщика на "Активный", и его услуги становятся видимыми в каталоге.

#### **Functional Requirements**

*   **ADMIN-1:** Система должна предоставлять интерфейс для просмотра и управления всеми пользователями (блокировка, смена роли).
*   **ADMIN-2:** Система должна предоставлять интерфейс для управления категориями услуг (CRUD).
*   **ADMIN-3:** Система должна предоставлять интерфейс для модерации новых Поставщиков и их услуг.
*   **ADMIN-4:** Система должна предоставлять интерфейс для удаления отзывов, нарушающих правила платформы.
