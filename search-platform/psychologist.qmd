# Web-сервис для психологических консультаций и подбора психологов

## Overall Description

Реализовать веб-сервис, выступающий в качестве платформы для соединения клиентов, ищущих психологическую помощь, с квалифицированными психологами. Сервис должен предоставлять функционал для регистрации пользователей обоих типов, поиска и фильтрации психологов, бронирования онлайн-сессий, проведения консультаций через встроенный чат и управления отзывами.

## Product Functions

-   Регистрация и аутентификация пользователей (клиентов и психологов)
-   Управление профилями (клиента и психолога)
-   Поиск и подбор психологов по различным критериям
-   Управление расписанием и бронирование консультаций
-   Система отзывов и рейтингов
-   Администрирование платформы

## System Features

### Управление профилем пользователя

#### Description and Priority

Позволяет аутентифицированным пользователям (клиентам и психологам) просматривать и редактировать информацию в своем профиле. Приоритет: Высокий.

#### Stimulus/Response Sequences

-   **Сценарий 1:** Клиент редактирует свой профиль
    *   *Стимул:* Клиент переходит в "Мой профиль", изменяет имя, дату рождения, контактный телефон и сохраняет изменения.
    *   *Ответ:* Система обновляет информацию о клиенте в БД и отображает сообщение об успешном сохранении.
-   **Сценарий 2:** Психолог редактирует свой профиль
    *   *Стимул:* Психолог переходит в "Мой кабинет", заполняет/изменяет данные: описание, методы работы, образование, сертификаты (загрузка файлов), стоимость сессии.
    *   *Ответ:* Система обновляет профиль психолога. Если изменяются критичные данные (например, диплом), статус психолога может меняться на `PENDING_VERIFICATION`.

#### Functional Requirements

*   **PROF-1**: Клиент должен иметь возможность редактировать свои личные данные (имя, дата рождения, телефон).
*   **PROF-2**: Психолог должен иметь возможность редактировать свой профессиональный профиль (биография, специализации, образование, методы терапии, цена за сеанс).
*   **PROF-3**: Психолог должен иметь возможность загружать и управлять сканами своих дипломов и сертификатов.
*   **PROF-4**: Система должна предоставлять публичную страницу профиля психолога для просмотра клиентами.


### Подбор и поиск психологов

#### Description and Priority

Функция позволяет клиентам находить подходящих психологов с помощью системы фильтров и просматривать их детальные профили. Приоритет: Высокий.

#### Stimulus/Response Sequences

**Сценарий:** Поиск психолога по критериям
-   *Стимул:* Клиент на главной странице использует фильтры: выбирает специализацию ("Тревожность"), ценовой диапазон (до 5000 руб.), рейтинг (4.5+ звезды) и нажимает "Найти".
-   *Ответ:* Система выполняет запрос к БД, возвращает список карточек психологов, удовлетворяющих критериям, отсортированных по рейтингу.

#### Functional Requirements

*   **SRCH-1**: Система должна предоставлять интерфейс для поиска психологов с фильтрами по: специализации, рейтингу, цене за сеанс, опыту работы.
*   **SRCH-2**: Система должна отображать список психологов в виде карточек с краткой информацией (имя, рейтинг, цена, краткое описание).
*   **SRCH-3**: Система должна предоставлять страницу с детальной информацией о психологе, включая полную биографию, отзывы, образование и расписание доступных сессий.

### Управление расписанием и бронирование консультаций

#### Description and Priority

Позволяет психологам управлять своим рабочим расписанием, а клиентам — бронировать доступные сессии. Приоритет: Высокий.

#### Stimulus/Response Sequences

-   **Сценарий 1:** Психолог добавляет слоты расписания
    *   *Стимул:* Психолог в личном кабинете переходит в "Мое расписание", выбирает дату и время и отмечает их как доступные для бронирования.
    *   *Ответ:* Система сохраняет эти слоты в БД со статусом `AVAILABLE`.
-   **Сценарий 2:** Клиент бронирует консультацию
    *   *Стимул:* Клиент на странице психолога выбирает доступный слот из календаря и нажимает "Забронировать".
    *   *Ответ:* Система проверяет, свободен ли слот, создает запись о консультации со статусом `AWAITING_PAYMENT`, блокирует слот для других клиентов и перенаправляет на страницу оплаты.

#### Functional Requirements

-   **SCHED-1**: Психолог должен иметь возможность добавлять, редактировать и удалять слоты в своем расписании.
-   **SCHED-2**: Система должна отображать клиенту только свободные (`AVAILABLE`) слоты выбранного психолога.
-   **SCHED-3**: При бронировании система должна менять статус слота на `BOOKED`.
-   **SCHED-4**: Система должна предотвращать двойное бронирование одного и того же слота.

### Система отзывов и рейтингов

#### Description and Priority

Позволяет клиентам оставлять отзывы и оценки после завершенной консультации, формируя репутацию психолога. Приоритет: Средний.

#### Stimulus/Response Sequences

**Сценарий:** Клиент оставляет отзыв
-   *Стимул:* После консультации со статусом `COMPLETED` клиент получает уведомление с предложением оставить отзыв. Он ставит оценку от 1 до 5 и пишет текст.
-   *Ответ:* Система сохраняет отзыв, пересчитывает средний рейтинг психолога и публикует отзыв на его странице.

#### Functional Requirements

-   **REV-1**: Оставить отзыв может только клиент, у которого была завершенная (`COMPLETED`) консультация с данным психологом.
-   **REV-2**: Система должна рассчитывать и отображать средний рейтинг психолога.
-   **REV-3**: Психолог должен иметь возможность ответить на отзыв клиента.

### Администрирование платформы

#### Description and Priority

Предоставляет администратору инструменты для управления пользователями, верификации психологов и модерации контента. Приоритет: Высокий.

#### Stimulus/Response Sequences

**Сценарий:** Верификация психолога
-   *Стимул:* Администратор в панели управления просматривает список психологов со статусом `PENDING_VERIFICATION`, проверяет загруженные документы.
-   *Ответ:* Администратор нажимает "Подтвердить". Система меняет статус психолога на `VERIFIED`, и его профиль становится видимым для клиентов.

#### Functional Requirements

-   **ADMIN-1**: Система должна предоставлять административную панель.
-   **ADMIN-2**: Администратор должен иметь возможность просматривать, подтверждать и блокировать аккаунты психологов.
-   **ADMIN-3**: Администратор должен иметь возможность просматривать список всех пользователей и блокировать их.
-   **ADMIN-4**: Администратор должен иметь возможность модерировать отзывы (скрывать оскорбительные).
