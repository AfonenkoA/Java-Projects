# Платформа для покупки и продажи автомобилей

## Overall Description

Реализовать web-платформу для покупки и продажи автомобилей, предоставляющую пользователям возможность размещать объявления о продаже автомобилей, просматривать существующие предложения и управлять своими объявлениями.

## Product Functions

- Регистрация и аутентификация пользователей
- Управление профилем пользователя
- Размещение объявлений о продаже автомобилей
- Просмотр и поиск объявлений о продаже автомобилей
- Управление своими объявлениями (редактирование, деактивация)
- Система фильтров для поиска автомобилей
- Система избранных объявлений
- Управление изображениями автомобилей
- Система просмотров объявлений
- Администрирование платформы

## System Features

### Управление аккаунтом

#### Description and Priority

Функция позволяет пользователям регистрировать новую учетную запись и аутентифицироваться в системе. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Успешная регистрация
  * *Стимул:* Гость нажимает "Зарегистрироваться", вводит email, логин, пароль и подтверждает пароль.
  * *Ответ:* Система проверяет уникальность логина/email, сохраняет данные пользователя в БД и перенаправляет на страницу входа с сообщением об успехе.
  
- **Сценарий 2:** Успешный вход
  * *Стимул:* Пользователь вводит логин и пароль на форме входа.
  * *Ответ:* Система проверяет учетные данные, создает сессию и перенаправляет пользователя на главную страницу с объявлениями.
  
- **Сценарий 3:** Неуспешный вход
  * *Стимул:* Пользователь вводит неверные учетные данные.
  * *Ответ:* Система отображает сообщение об ошибке, не создавая сессию.

#### Functional Requirements

- **ACC-1**: Система должна предоставлять форму для регистрации нового пользователя.
- **ACC-2**: Система должна проверять, что логин и email не заняты другими пользователями.
- **ACC-3**: Система должна хэшировать пароли пользователей перед сохранением в базу данных.
- **ACC-4**: Система должна предоставлять форму для аутентификации существующего пользователя.
- **ACC-5**: Система должна создавать и поддерживать пользовательскую сессию после успешной аутентификации.
- **ACC-6**: Доступ к функционалу размещения объявлений должен быть запрещен для неаутентифицированных пользователей.

### Управление профилем пользователя

#### Description and Priority

Позволяет аутентифицированному пользователю просматривать и редактировать информацию в своем профиле. Приоритет: Высокий.

#### Stimulus/Response Sequences

**Сценарий:** Редактирование профиля

- *Стимул:* Пользователь переходит на страницу своего профиля, нажимает "Редактировать", изменяет данные (имя, контактную информацию) и сохраняет.
- *Ответ:* Система обновляет информацию о пользователе в базе данных и отображает актуальные данные на странице профиля.

#### Functional Requirements

- **PROF-1**: Пользователь должен иметь возможность просматривать свой профиль.
- **PROF-2**: Пользователь должен иметь возможность редактировать базовую информацию в своем профиле (имя, фамилия, телефон, email для связи).
- **PROF-3**: Система должна отображать информацию профиля продавца при просмотре объявления.
- **PROF-4**: Пользователь должен иметь возможность просматривать статистику своих объявлений.

### Управление объявлениями об автомобилях

#### Description and Priority

Позволяет аутентифицированным пользователям создавать, редактировать и управлять объявлениями о продаже автомобилей. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Создание нового объявления
  * *Стимул:* Пользователь нажимает "Разместить объявление", заполняет форму с данными об автомобиле и сохраняет.
  * *Ответ:* Система валидирует данные, создает новое объявление в статусе "активно" и отображает его в списке объявлений.

- **Сценарий 2:** Редактирование объявления
  * *Стимул:* Пользователь переходит к своему объявлению, нажимает "Редактировать", изменяет данные и сохраняет.
  * *Ответ:* Система обновляет информацию об автомобиле в базе данных и отображает актуальные данные.

- **Сценарий 3:** Деактивация объявления
  * *Стимул:* Пользователь нажимает "Снять с публикации" в своем объявлении.
  * *Ответ:* Система изменяет статус объявления на "неактивно" и исключает его из результатов поиска.

#### Functional Requirements

- **ADS-1**: Система должна предоставлять форму для создания нового объявления об автомобиле.
- **ADS-2**: При создании объявления пользователь должен иметь возможность указать: марку, модель, год выпуска, пробег, тип топлива, объем двигателя, цвет, цену, описание, фотографии.
- **ADS-3**: Система должна валидировать обязательные поля при создании/редактировании объявления.
- **ADS-4**: Пользователь должен иметь возможность просматривать список своих объявлений.
- **ADS-5**: Пользователь должен иметь возможность редактировать свои активные объявления.
- **ADS-6**: Пользователь должен иметь возможность деактивировать и активировать свои объявления.
- **ADS-7**: Система должна автоматически обновлять дату последнего изменения объявления при редактировании.

### Поиск и просмотр объявлений

#### Description and Priority

Позволяет пользователям искать и просматривать объявления о продаже автомобилей с использованием различных фильтров. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Поиск автомобилей по базовым критериям
  * *Стимул:* Пользователь выбирает марку, модель, устанавливает диапазон цен и нажимает "Найти".
  * *Ответ:* Система отображает список автомобилей, соответствующих критериям поиска.

- **Сценарий 2:** Расширенный поиск
  * *Стимул:* Пользователь открывает расширенные фильтры, указывает дополнительные параметры (год выпуска, пробег, тип топлива и т.д.) и применяет фильтры.
  * *Ответ:* Система отображает список автомобилей, соответствующих всем указанным критериям.

- **Сценарий 3:** Просмотр деталей объявления
  * *Стимул:* Пользователь нажимает на объявление в списке результатов поиска.
  * *Ответ:* Система отображает полную информацию об автомобиле и контактные данные продавца.

#### Functional Requirements

- **SRCH-1**: Система должна предоставлять интерфейс для поиска автомобилей по базовым параметрам (марка, модель, цена).
- **SRCH-2**: Система должна предоставлять расширенные фильтры поиска (год выпуска, пробег, тип топлива, объем двигателя, цвет).
- **SRCH-3**: Система должна отображать список объявлений, соответствующих критериям поиска.
- **SRCH-4**: Система должна предоставлять возможность сортировки результатов поиска (по дате размещения, цене, году выпуска).
- **SRCH-5**: При просмотре объявления система должна отображать полную информацию об автомобиле и контактные данные продавца.
- **SRCH-6**: Система должна вести статистику просмотров для каждого объявления.

### Управление изображениями автомобилей

#### Description and Priority

Позволяет пользователям загружать, просматривать и управлять фотографиями автомобилей в своих объявлениях. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Загрузка изображений
  * *Стимул:* Пользователь при создании/редактировании объявления выбирает файлы изображений и загружает их.
  * *Ответ:* Система проверяет формат и размер файлов, сохраняет их и отображает в объявлении.

- **Сценарий 2:** Управление порядком изображений
  * *Стимул:* Пользователь перетаскивает изображения для изменения их порядка отображения.
  * *Ответ:* Система сохраняет новый порядок изображений и отображает их в обновленной последовательности.

- **Сценарий 3:** Удаление изображения
  * *Стимул:* Пользователь нажимает на кнопку удаления у конкретного изображения.
  * *Ответ:* Система удаляет изображение из объявления и обновляет отображение.

#### Functional Requirements

- **IMG-1**: Система должна позволять загружать до 10 изображений для одного объявления.
- **IMG-2**: Система должна проверять формат загружаемых файлов (JPEG, PNG, WebP).
- **IMG-3**: Система должна проверять размер загружаемых файлов (максимум 5MB на файл).
- **IMG-4**: Пользователь должен иметь возможность изменять порядок отображения изображений.
- **IMG-5**: Пользователь должен иметь возможность удалять отдельные изображения из объявления.

### Система избранных объявлений

#### Description and Priority

Позволяет пользователям сохранять понравившиеся объявления в избранное для быстрого доступа. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Добавление в избранное
  * *Стимул:* Аутентифицированный пользователь нажимает кнопку "В избранное" на странице объявления.
  * *Ответ:* Система добавляет объявление в список избранных пользователя и изменяет состояние кнопки.

- **Сценарий 2:** Просмотр избранного
  * *Стимул:* Пользователь переходит в раздел "Избранное".
  * *Ответ:* Система отображает список объявлений, добавленных пользователем в избранное.

- **Сценарий 3:** Удаление из избранного
  * *Стимул:* Пользователь нажимает кнопку "Удалить из избранного" в списке избранных объявлений.
  * *Ответ:* Система удаляет объявление из списка избранного пользователя.

#### Functional Requirements

- **FAV-1**: Аутентифицированный пользователь должен иметь возможность добавлять объявления в избранное.
- **FAV-2**: Аутентифицированный пользователь должен иметь возможность просматривать список избранных объявлений.
- **FAV-3**: Аутентифицированный пользователь должен иметь возможность удалять объявления из избранного.
- **FAV-4**: Система должна визуально обозначать, добавлено ли объявление в избранное текущего пользователя.
- **FAV-5**: При просмотре объявления, которое было деактивировано или удалено, система должна уведомлять пользователя в разделе избранного.

### Система статистики и аналитики

#### Description and Priority

Предоставляет продавцам информацию о просмотрах и активности их объявлений. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Просмотр статистики объявления
  * *Стимул:* Продавец открывает страницу своего объявления.
  * *Ответ:* Система отображает количество просмотров и другую статистику по объявлению.

- **Сценарий 2:** Сравнение статистики объявлений
  * *Стимул:* Продавец открывает панель управления своими объявлениями.
  * *Ответ:* Система отображает сравнительную статистику по всем активным объявлениям пользователя.

#### Functional Requirements

- **STAT-1**: Система должна подсчитывать количество просмотров для каждого объявления.
- **STAT-2**: Система должна предоставлять владельцу объявления доступ к статистике просмотров.
- **STAT-3**: Система должна отображать дату создания и последнего изменения объявления.
- **STAT-4**: Система должна предоставлять сводную статистику по всем объявлениям пользователя.

### Административная панель

#### Description and Priority

Позволяет администраторам управлять пользователями, объявлениями и содержанием платформы. Приоритет: Низкий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Модерация объявлений
  * *Стимул:* Администратор просматривает список новых объявлений и одобряет или отклоняет их.
  * *Ответ:* Система изменяет статус объявления и уведомляет пользователя при необходимости.

- **Сценарий 2:** Управление пользователями
  * *Стимул:* Администратор блокирует пользователя за нарушение правил.
  * *Ответ:* Система блокирует учетную запись пользователя и деактивирует все его объявления.

#### Functional Requirements

- **ADMIN-1**: Система должна предоставлять интерфейс администратора для управления пользователями.
- **ADMIN-2**: Система должна предоставлять интерфейс администратора для управления объявлениями.
- **ADMIN-3**: Администратор должен иметь возможность блокировать/разблокировать пользователей.
- **ADMIN-4**: Администратор должен иметь возможность удалять объявления.
- **ADMIN-5**: Система должна вести журнал действий администратора.
