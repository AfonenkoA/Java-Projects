# Доска объявлений

## Overall Description

Реализовать веб-платформу для размещения объявлений о покупке и продаже товаров с базовой функциональностью классифицированных досок объявлений.

## Product Functions

- Регистрация и аутентификация пользователей
- Управление профилем пользователя
- Создание, редактирование и удаление объявлений
- Просмотр и поиск объявлений
- Система категорий для объявлений
- Комментирование объявлений
- Система рейтингов пользователей
- Система избранных объявлений
- Модерация контента
- Управление изображениями объявлений
- Административная панель

## System Features

### Управление аккаунтом

#### Description and Priority

Функция позволяет пользователям регистрировать новую учетную запись и аутентифицироваться в системе. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Успешная регистрация
  * *Стимул:* Гость нажимает "Зарегистрироваться", вводит email, логин, пароль и подтверждает пароль.
  * *Ответ:* Система проверяет уникальность логина/email, сохраняет данные пользователя в БД и перенаправляет на страницу входа с сообщением об успехе.
- **Сценарий 2:** Успешный вход
  * *Стимул:* Пользователь вводит логин и пароль на форме входа.
  * *Ответ:* Система проверяет учетные данные, создает сессию и перенаправляет пользователя на главную страницу объявлений.
- **Сценарий 3:** Неуспешный вход
  * *Стимул:* Пользователь вводит неверные учетные данные.
  * *Ответ:* Система отображает сообщение об ошибке, не создавая сессию.

#### Functional Requirements

- **ACC-1**: Система должна предоставлять форму для регистрации нового пользователя.
- **ACC-2**: Система должна проверять уникальность логина и email при регистрации.
- **ACC-3**: Система должна хранить пароли в хэшированном виде.
- **ACC-4**: Система должна предоставлять форму для аутентификации существующего пользователя.
- **ACC-5**: Система должна создавать и поддерживать пользовательскую сессию после успешной аутентификации.
- **ACC-6**: Доступ к персональным разделам должен быть запрещен для неаутентифицированных пользователей.
- **ACC-7**: Система должна предоставлять возможность выхода из учетной записи.

### Управление профилем пользователя

#### Description and Priority

Позволяет аутентифицированному пользователю просматривать и редактировать информацию в своем профиле. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Редактирование профиля
  * *Стимул:* Пользователь переходит на страницу своего профиля, нажимает "Редактировать", изменяет данные (имя, контактную информацию) и сохраняет.
  * *Ответ:* Система обновляет информацию о пользователе в базе данных и отображает актуальные данные на странице профиля.
- **Сценарий 2:** Просмотр чужого профиля
  * *Стимул:* Пользователь нажимает на имя автора объявления.
  * *Ответ:* Система отображает публичную информацию о пользователе и список его активных объявлений.

#### Functional Requirements

- **PROF-1**: Пользователь должен иметь возможность просматривать свой профиль.
- **PROF-2**: Пользователь должен иметь возможность редактировать базовую информацию в своем профиле (имя, фамилия, контактные данные).
- **PROF-3**: Система должна отображать публичный профиль любого пользователя.
- **PROF-4**: Пользователь должен видеть свой рейтинг и статистику объявлений в профиле.
- **PROF-5**: Система должна отображать историю активности пользователя.

### Управление объявлениями

#### Description and Priority

Функция позволяет пользователям создавать, редактировать, просматривать и удалять свои объявления. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Создание нового объявления
  * *Стимул:* Аутентифицированный пользователь нажимает "Добавить объявление", заполняет форму (заголовок, описание, цена, категория) и сохраняет.
  * *Ответ:* Система проверяет данные, сохраняет объявление в БД и отображает его в общем списке.
- **Сценарий 2:** Редактирование объявления
  * *Стимул:* Пользователь переходит к своему объявлению, нажимает "Редактировать", изменяет данные и сохраняет.
  * *Ответ:* Система обновляет информацию об объявлении в базе данных.
- **Сценарий 3:** Удаление объявления
  * *Стимул:* Пользователь нажимает "Удалить" в карточке своего объявления.
  * *Ответ:* Система удаляет объявление из БД и убирает его из общего списка.

#### Functional Requirements

- **ADS-1**: Система должна предоставлять форму для создания нового объявления.
- **ADS-2**: Каждое объявление должно содержать заголовок, описание, цену, категорию и дату публикации.
- **ADS-3**: Пользователь может редактировать только свои собственные объявления.
- **ADS-4**: Пользователь может удалять только свои собственные объявления.
- **ADS-5**: Система должна отображать все активные объявления в хронологическом порядке.
- **ADS-6**: Объявления должны быть привязаны к категориям из предопределенного списка.

### Система поиска и фильтрации

#### Description and Priority

Функция позволяет пользователям находить объявления по ключевым словам и фильтровать их по категориям и ценовому диапазону. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Поиск по ключевым словам
  - *Стимул:* Пользователь вводит поисковый запрос в строку поиска и нажимает кнопку "Найти".
  - *Ответ:* Система отображает объявления, содержащие ключевые слова в заголовке или описании.
- **Сценарий 2:** Фильтрация по категории
  - *Стимул:* Пользователь выбирает категорию из выпадающего списка.
  - *Ответ:* Система отображает только объявления из выбранной категории.
- **Сценарий 3:** Фильтрация по цене
  - *Стимул:* Пользователь указывает минимальную и максимальную цену.
  - *Ответ:* Система отображает объявления, цена которых попадает в указанный диапазон.

#### Functional Requirements

- **SRCH-1**: Система должна предоставлять интерфейс для текстового поиска по объявлениям.
- **SRCH-2**: Система должна предоставлять возможность фильтрации объявлений по категориям.
- **SRCH-3**: Система должна предоставлять возможность фильтрации объявлений по ценовому диапазону.
- **SRCH-4**: Система должна поддерживать комбинирование различных фильтров.
- **SRCH-5**: Система должна предоставлять расширенный поиск с дополнительными параметрами (дата публикации, местоположение).
- **SRCH-6**: Система должна сохранять историю поисковых запросов для авторизованных пользователей.

### Система комментариев

#### Description and Priority

Функция позволяет пользователям оставлять комментарии к объявлениям. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Добавление комментария
  - *Стимул:* Аутентифицированный пользователь вводит текст комментария и нажимает "Отправить".
  - *Ответ:* Система сохраняет комментарий и отображает его под объявлением.
- **Сценарий 2:** Просмотр комментариев
  - *Стимул:* Пользователь открывает страницу объявления.
  - *Ответ:* Система отображает все комментарии к данному объявлению в хронологическом порядке.

#### Functional Requirements

- **CMT-1**: Система должна позволять аутентифицированным пользователям оставлять комментарии к объявлениям.
- **CMT-2**: Каждый комментарий должен содержать текст, автора и дату публикации.
- **CMT-3**: Система должна отображать комментарии к объявлению в порядке их добавления.
- **CMT-4**: Автор объявления должен иметь возможность удалять комментарии под своим объявлением.
- **CMT-5**: Система должна предоставлять возможность редактирования собственных комментариев.

### Система рейтингов пользователей

#### Description and Priority

Функция позволяет пользователям оценивать друг друга на основе успешных сделок. Приоритет: Низкий.

#### Stimulus/Response Sequences

**Сценарий:** Оценка пользователя
- *Стимул:* Пользователь после завершения сделки переходит на профиль контрагента и ставит оценку (положительную/отрицательную).
- *Ответ:* Система обновляет рейтинг пользователя и отображает новое значение.

#### Functional Requirements

- **RATE-1**: Система должна позволять аутентифицированным пользователям оценивать других пользователей.
- **RATE-2**: Система должна вычислять и отображать общий рейтинг пользователя.
- **RATE-3**: Пользователь может оценить другого пользователя только один раз.
- **RATE-4**: Система должна отображать детализацию оценок (положительные/отрицательные).
- **RATE-5**: Система должна предотвращать возможность оценки самого себя.

### Система избранных объявлений

#### Description and Priority

Функция позволяет пользователям сохранять понравившиеся объявления для быстрого доступа в будущем. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Добавление в избранное
  - *Стимул:* Пользователь нажимает кнопку "В избранное" на карточке объявления.
  - *Ответ:* Система добавляет объявление в список избранных пользователя.
- **Сценарий 2:** Просмотр избранного
  - *Стимул:* Пользователь переходит в раздел "Избранное".
  - *Ответ:* Система отображает все сохраненные пользователем объявления.

#### Functional Requirements

- **FAV-1**: Система должна предоставлять возможность добавлять объявления в избранное.
- **FAV-2**: Система должна предоставлять возможность удалять объявления из избранного.
- **FAV-3**: Система должна отображать список избранных объявлений для авторизованного пользователя.
- **FAV-4**: Система должна ограничивать максимальное количество избранных объявлений.

### Управление изображениями объявлений

#### Description and Priority

Функция позволяет пользователям загружать и управлять изображениями для своих объявлений. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Загрузка изображений
  - *Стимул:* При создании или редактировании объявления пользователь выбирает файлы изображений и загружает их.
  - *Ответ:* Система проверяет формат и размер файлов, сохраняет их и прикрепляет к объявлению.
- **Сценарий 2:** Удаление изображений
  - *Стимул:* Пользователь нажимает кнопку удаления на превью изображения.
  - *Ответ:* Система удаляет изображение из объявления и освобождает занимаемое место.

#### Functional Requirements

- **IMG-1**: Система должна позволять загружать несколько изображений для одного объявления.
- **IMG-2**: Система должна проверять формат и размер загружаемых изображений.
- **IMG-3**: Система должна ограничивать максимальное количество изображений на объявление.

### Система модерации контента

#### Description and Priority

Функция позволяет администраторам контролировать качество контента на платформе. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Жалоба на объявление
  - *Стимул:* Пользователь нажимает "Пожаловаться" на объявление и выбирает причину.
  - *Ответ:* Система регистрирует жалобу и уведомляет модераторов.
- **Сценарий 2:** Модерация объявления
  - *Стимул:* Модератор проверяет объявление и принимает решение (одобрить/отклонить).
  - *Ответ:* Система обновляет статус объявления и уведомляет автора.

#### Functional Requirements

- **MOD-1**: Система должна предоставлять интерфейс для модерации контента.
- **MOD-2**: Система должна позволять пользователям жаловаться на объявления.
- **MOD-3**: Система должна уведомлять модераторов о новых жалобах.
- **MOD-4**: Система должна вести историю модерационных действий.
- **MOD-5**: Система должна автоматически скрывать объявления с большим количеством жалоб.

### Система уведомлений

#### Description and Priority

Функция информирует пользователей о важных событиях на платформе. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Уведомление о новом комментарии
  - *Стимул:* Пользователь оставляет комментарий под объявлением.
  - *Ответ:* Система отправляет уведомление автору объявления.
- **Сценарий 2:** Уведомление об изменении статуса модерации
  - *Стимул:* Модератор принимает решение по объявлению.
  - *Ответ:* Система отправляет уведомление автору объявления.

#### Functional Requirements

- **NOT-1**: Система должна отправлять уведомления о новых комментариях к объявлениям пользователя.
- **NOT-2**: Система должна уведомлять о результатах модерации.
- **NOT-3**: Система должна предоставлять центр уведомлений для пользователей.
- **NOT-4**: Система должна позволять настраивать типы получаемых уведомлений.

### Административная панель

#### Description and Priority

Функция предоставляет администраторам инструменты для управления платформой. Приоритет: Низкий.

#### Stimulus/Response Sequences

- **Сценарий:** Управление пользователями
  - *Стимул:* Администратор просматривает список пользователей и применяет фильтры.
  - *Ответ:* Система отображает отфильтрованный список пользователей с возможностью управления.

#### Functional Requirements

- **ADMIN-1**: Система должна предоставлять интерфейс для управления пользователями.
- **ADMIN-2**: Система должна предоставлять статистику по активности на платформе.
- **ADMIN-3**: Система должна позволять управлять категориями объявлений.
- **ADMIN-4**: Система должна предоставлять инструменты для массовой модерации.