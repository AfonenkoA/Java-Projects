# Музыкальная стриминговая платформа

## Overall Description

Реализовать веб-сервис для хостинга и распространения музыкального контента, предоставляющий функциональность, аналогичную Spotify и SoundCloud.

## Product Functions

- Регистрация и аутентификация пользователей
- Управление профилем артиста и слушателя
- Загрузка и управление музыкальными треками
- Создание и редактирование плейлистов
- Система поиска и категоризации контента
- Система лайков, комментариев и репостов
- Подписки на артистов и пользователей
- История прослушиваний

## System Features

### Управление аккаунтом

#### Description and Priority

Функция позволяет пользователям регистрироваться, аутентифицироваться и управлять учетной записью. Поддерживает роли "Слушатель" и "Артист". Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Регистрация как артист
    * *Стимул:* Гость выбирает "Зарегистрироваться как артист", заполняет профиль с дополнительной информацией о творчестве.
    * *Ответ:* Система создает учетную запись с расширенными правами, отправляет email подтверждение.
- **Сценарий 2:** Восстановление пароля
    * *Стимул:* Пользователь нажимает "Забыли пароль", вводит email.
    * *Ответ:* Система генерирует токен сброса, отправляет инструкции на email.

#### Functional Requirements

- **ACC-1**: Система должна предоставлять раздельные формы регистрации для слушателей и артистов
- **ACC-2**: Система должна верифицировать email пользователя через отправку кода подтверждения
- **ACC-3**: Система должна поддерживать OAuth2 аутентификацию через социальные сети
- **ACC-4**: Система должна обеспечивать сброс пароля через email
- **ACC-5**: Система должна разграничивать права доступа по ролям

### Управление музыкальным контентом

#### Description and Priority

Функция позволяет артистам загружать, редактировать и удалять музыкальные треки. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Загрузка нового трека
    * *Стимул:* Артист загружает аудиофайл, заполняет метаданные (название, жанр, обложка).
    * *Ответ:* Система валидирует формат, конвертирует в поддерживаемые форматы, сохраняет в хранилище.
- **Сценарий 2:** Редактирование информации о треке
    * *Стимул:* Артист изменяет описание или обложку существующего трека.
    * *Ответ:* Система обновляет метаданные, сохраняет историю изменений.

#### Functional Requirements

- **TRACK-1**: Система должна поддерживать загрузку аудиофайлов форматов MP3, WAV, FLAC
- **TRACK-2**: Система должна ограничивать размер загружаемого файла (макс. 500MB)

### Система плейлистов

#### Description and Priority

Функция позволяет пользователям создавать, редактировать и делиться плейлистами. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Создание плейлиста
    * *Стимул:* Пользователь нажимает "Создать плейлист", вводит название и описание.
    * *Ответ:* Система создает пустой плейлист, назначает владельца.
- **Сценарий 2:** Добавление трека в плейлист
    * *Стимул:* Пользователь выбирает "Добавить в плейлист" для трека, выбирает целевой плейлист.
    * *Ответ:* Система добавляет связь трек-плейлист, обновляет порядок треков.

#### Functional Requirements

- **PLAY-1**: Система должна позволять создавать публичные и приватные плейлисты
- **PLAY-2**: Система должна поддерживать коллаборативные плейлисты с множеством редакторов
- **PLAY-3**: Система должна сохранять порядок треков в плейлисте
- **PLAY-4**: Система должна отображать количество лайков и прослушиваний плейлиста

### Воспроизведение аудио

#### Description and Priority

Функция обеспечивает потоковое воспроизведение музыкальных треков с различными режимами. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Воспроизведение трека
    * *Стимул:* Пользователь нажимает кнопку воспроизведения на треке.
    * *Ответ:* Система начинает потоковую передачу аудио, обновляет интерфейс плеера.
- **Сценарий 2:** Переключение трека
    * *Стимул:* Пользователь нажимает "Следующий трек" во время воспроизведения.
    * *Ответ:* Система останавливает текущий трек, загружает и воспроизводит следующий.

#### Functional Requirements

**PLAYBACK-1**: Система должна поддерживать последовательное, случайное и повторное воспроизведение

### Социальные взаимодействия

#### Description and Priority

Функция обеспечивает лайки, комментарии, репосты и подписки. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Комментирование трека
    * *Стимул:* Пользователь оставляет текстовый комментарий под треком с указанием временной метки.
    * *Ответ:* Система сохраняет комментарий, привязывает к временной метке, уведомляет артиста.
- **Сценарий 2:** Подписка на артиста
    * *Стимул:* Пользователь нажимает "Подписаться" на странице артиста.
    * *Ответ:* Система создает связь подписки, добавляет артиста в ленту пользователя.

#### Functional Requirements

- **SOC-1**: Система должна поддерживать лайки для треков, плейлистов и комментариев
- **SOC-2**: Система должна отображать количество подписчиков для артистов

### Система поиска

#### Description and Priority

Функция обеспечивает поиск контента и рекомендации на основе предпочтений. Приоритет: Высокий.

#### Stimulus/Response Sequences

**Сценарий 1:** Поиск по названию
-   *Стимул:* Пользователь вводит запрос в поисковую строку.
-   *Ответ:* Система возвращает релевантные треки, альбомы, артистов и плейлисты.

#### Functional Requirements

- **SRCH-1**: Система должна поддерживать полнотекстовый поиск по названиям и метаданным
- **SRCH-2**: Система должна фильтровать результаты по жанру, длительности, дате добавления

### Статистика и аналитика для артистов

#### Description and Priority

Функция предоставляет артистам аналитику по их контенту. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Просмотр статистики трека
    * *Стимул:* Артист открывает страницу статистики для своего трека.
    * *Ответ:* Система показывает графики прослушиваний по времени, географию слушателей.
- **Сценарий 2:** Экспорт данных
    * *Стимул:* Артист нажимает "Экспорт статистики" за выбранный период.
    * *Ответ:* Система генерирует CSV файл с детализированной статистикой.

#### Functional Requirements

- **STAT-1**: Система должна отслеживать количество прослушиваний для каждого трека
- **STAT-2**: Система должна собирать демографические данные о слушателях
