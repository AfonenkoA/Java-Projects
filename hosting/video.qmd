# Видеохостинг

## Overall Description

Реализовать учебный проект - веб-сервис для хостинга видео, предоставляющий функциональность, аналогичную YouTube. Система должна позволять пользователям загружать, просматривать, оценивать и комментировать видео, а также взаимодействовать с другими пользователями через систему подписок.

## Product Functions

- Регистрация и аутентификация пользователей
- Управление профилем пользователя и каналом
- Загрузка видеофайлов
- Просмотр видео
- Система подписок на каналы
- Комментирование видео
- Система лайков/дизлайков
- Создание и управление плейлистами
- Поиск видео
- История просмотров
- Модерация контента
- Аналитика для создателей контента

## System Features

### Управление видео-контентом

#### Description and Priority

Функция позволяет пользователям загружать, редактировать и удалять видео. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Загрузка видео
  * *Стимул:* Аутентифицированный пользователь загружает видеофайл через веб-интерфейс.
  * *Ответ:* Система валидирует файл, запускает фоновую обработку и возвращает ID видео.
- **Сценарий 2:** Обработка видео
  * *Стимул:* Система получает новое видео для обработки.
  * *Ответ:* Система генерирует превью и обновляет статус видео.
- **Сценарий 3:** Редактирование метаданных
  * *Стимул:* Пользователь редактирует название, описание и настройки приватности видео.
  * *Ответ:* Система обновляет метаданные видео в БД.

#### Functional Requirements

- **VIDEO-1**: Система должна поддерживать загрузку видеофайлов до 2GB
- **VIDEO-2**: Система должна проверять MIME-тип загружаемых файлов
- **VIDEO-3**: Система должна автоматически генерировать миниатюры для видео
- **VIDEO-4**: Система должна поддерживать настройки приватности (публичное, приватное, по ссылке)

### Просмотр видео и плеер

#### Description and Priority

Функция обеспечивает воспроизведение видео с поддержкой различных качеств и функций плеера. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Воспроизведение видео
  * *Стимул:* Пользователь открывает страницу видео.
  * *Ответ:* Система отображает видео-плеер с метаданными.
- **Сценарий 2:** Переключение качества
  * *Стимул:* Пользователь меняет качество воспроизведения во время просмотра.
  * *Ответ:* Плеер переключается на выбранное качество без перезагрузки страницы.

#### Functional Requirements

- **PLAY-1**: Система должна предоставлять видео-плеер
- **PLAY-2**: Система должна отображать страницу для просмотра видео

### Система взаимодействий (лайки, комментарии)

#### Description and Priority

Функция позволяет пользователям оценивать видео и оставлять комментарии. Приоритет: Высокий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Оценка видео
  * *Стимул:* Пользователь ставит лайк видео.
  * *Ответ:* Система обновляет счетчик лайков и сохраняет реакцию пользователя.
- **Сценарий 2:** Добавление комментария
  * *Стимул:* Пользователь пишет и отправляет комментарий к видео.
  * *Ответ:* Система сохраняет комментарий и обновляет список комментариев в реальном времени.
- **Сценарий 3:** Ответ на комментарий
  * *Стимул:* Пользователь отвечает на существующий комментарий.
  * *Ответ:* Система создает иерархическую структуру комментариев.

#### Functional Requirements

- **INT-1**: Система должна позволять ставить лайки/дизлайки видео
- **INT-2**: Система должна отображать соотношение лайков/дизлайков
- **INT-3**: Система должна позволять отвечать на комментарии

### Система подписок и уведомлений

#### Description and Priority

Функция позволяет пользователям подписываться на каналы и получать уведомления о новых видео. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Подписка на канал
  * *Стимул:* Пользователь нажимает кнопку "Подписаться" на странице канала.
  * *Ответ:* Система добавляет подписку и обновляет счетчик подписчиков.
- **Сценарий 2:** Уведомление о новом видео
  * *Стимул:* Создатель публикует новое видео.
  * *Ответ:* Система отправляет уведомления всем подписчикам.

#### Functional Requirements

- **SUB-1**: Система должна позволять подписываться и отписываться от каналов
- **SUB-2**: Система должна отображать список подписок пользователя

### Поиск

#### Description and Priority

Функция обеспечивает поиск видео и каналов. Приоритет: Средний.

#### Stimulus/Response Sequences

**Сценарий 1:** Поиск видео
- *Стимул:* Пользователь вводит поисковый запрос в строку поиска.
- *Ответ:* Система возвращает релевантные видео с пагинацией.

#### Functional Requirements

- **SRCH-1**: Система должна предоставлять полнотекстовый поиск по названиям и описаниям видео
- **SRCH-2**: Система должна поддерживать фильтрацию результатов поиска
- **SRCH-3**: Система должна кэшировать популярные поисковые запросы

### Управление плейлистами

#### Description and Priority

Функция позволяет создавать и управлять плейлистами для организации видео. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Создание плейлиста
  - *Стимул:* Пользователь создает новый плейлист и добавляет в него видео.
  - *Ответ:* Система сохраняет плейлист и связи с видео.
- **Сценарий 2:** Совместный доступ к плейлисту
  - *Стимул:* Пользователь настраивает доступ к плейлисту.
  - *Ответ:* Система обновляет настройки приватности и генерирует share-ссылку при необходимости.

#### Functional Requirements

- **PL-1**: Система должна позволять создавать, редактировать и удалять плейлисты
- **PL-2**: Система должна поддерживать добавление и удаление видео из плейлистов
- **PL-3**: Система должна предоставлять настройки видимости плейлистов
- **PL-4**: Система должна позволять изменять порядок видео в плейлисте

### Аналитика для создателей

#### Description and Priority

Функция предоставляет статистику и аналитику по видео и каналу для создателей контента. Приоритет: Низкий.

#### Stimulus/Response Sequences

- **Сценарий 1:** Просмотр статистики канала
  - *Стимул:* Создатель заходит в раздел аналитики своего канала.
  - *Ответ:* Система отображает графики и метрики по просмотрам и демографии.

#### Functional Requirements

- **AN-1**: Система должна собирать статистику просмотров по времени и регионам
- **AN-2**: Система должна генерировать отчеты по эффективности контента

### Модерация контента

#### Description and Priority

Функция позволяет модераторам и администраторам управлять контентом и пользователями. Приоритет: Средний.

#### Stimulus/Response Sequences

- **Сценарий 1:** Жалоба на контент
  * *Стимул:* Пользователь отправляет жалобу на видео.
  * *Ответ:* Система добавляет жалобу в очередь модерации и уведомляет модераторов.
- **Сценарий 2:** Блокировка видео
  * *Стимул:* Модератор проверяет и блокирует нарушающее правила видео.
  * *Ответ:* Система скрывает видео и уведомляет создателя.

#### Functional Requirements

- **MOD-1**: Система должна предоставлять интерфейс модерации для администраторов
- **MOD-2**: Система должна вести историю действий модерации
- **MOD-3**: Система должна поддерживать автоматическую модерацию по ключевым словам
